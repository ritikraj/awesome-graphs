<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Awesome Graphs</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
    <style>
        canvas {
            font-family: 'Ma Shan Zheng', cursive;
            background: #f9f9f9;
        }
        .demo-graph {
            max-width: max-content;
            height: max-content;
        }
        code {
            padding: 20px;
            background: #fafafa;
            display: block;
            min-width: 100%;
        }
        .desc {
            padding-right: 20px;
        }
        .col-12{
            margin-bottom: 100px;
        }

        .changes input{
            margin-bottom: 10px;
        }

        @media only screen and (max-width: 768px) {
            .demo-graph {
                zoom: 0.7;
            }
        }
    </style>
</head>
<body>

<div class="container-fluid">

    <div class="container">
        <div class="d-flex w-100 py-4 justify-content-between align-items-center flex-column flex-md-row">
            <h1 class="display-4 my-3 text-center">Awesome Graphs</h1>
            <a href="https://github.com/ritikraj/awesome-graphs"> Github -> </a>
        </div>

        <div class="w-100 my-3">
            <div class="alert alert-success" style="font-size: 24px">
                the way to chain the functions: <br>
                1. set() functions <br>
                2. build() function <br>
                3. buildChanged() functions (optional) <br>
                4. animate() function (optional) <br>
            </div>

            <div class="alert alert-danger">
                <b>NOTE: </b>animate() won't work with buildChanged() functions
            </div>
        </div>
    </div>
<!--    <canvas id="can" width="800" height="800"></canvas>-->

    <div class="container py-5">
        <div class="row">
            <div class="col-12">
                <div class="row align-items-center">

                    <div id="demo-graph-1" class="demo-graph col"></div>
                    <div class="col changes">
                        <input type="number" onchange="fn1(0,this.value)" value="426"> <br>
                        <input type="number" onchange="fn1(1,this.value)" value="515"> <br>
                        <input type="number" onchange="fn1(2,this.value)" value="140"> <br>
                        <input type="number" onchange="fn1(3,this.value)" value="251"> <br>
                        <input type="number" onchange="fn1(4,this.value)" value="690"> <br>
                    </div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type One</h1>
                        <p>
                            <code>
                                const arr = ["First value","Second Value","Third Value","Fourth Value","fifth Value"];<br><br>

                                // demo-graph-1 = ID of the div <br>
                                new TypeOne("demo-graph-1").build([426,515,140,251,690]).setHover(arr);<br><br>

                                // animate(frames [optional]) <br>
                                new TypeOne("demo-graph-1").build([426,515,140,251,690]).setHover(arr).animate(140).setLabels(["Ab","Mo","Fo","Jo","Ho"]);
                            </code>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="row align-items-center">
                    <div id="demo-graph-2" class="demo-graph col"></div>
                    <div class="col changes">
                        <input type="number" onchange="fn2(this.value)" value="500"> <br>
                    </div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type Two</h1>
                        <p>
                            <code>
                                // demo-graph-2 = ID of the div <br>
                                // pieChartValue = 500 <br>
                                // changed = Value when input number is changed (default here is 500)<br>
                                // difference = changed - pieChartValue; <br><br>
                                new TypeTwo("demo-graph-2") <br>
                                &emsp; .setCustomTotal(changed) <br>
                                &emsp; .setChangedLabel(difference) <br>
                                &emsp; .setHover("It's a value") &emsp; // set() functions <br>
                                &emsp; .build(pieChartValue) <br>
                                &emsp; .buildChanged(changed) <br>
                                &emsp; .animate();
                            </code>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="row align-items-center">
                    <div id="demo-graph-31" class="demo-graph col"></div>
                    <div id="demo-graph-32" class="demo-graph col"></div>
                    <div class="col changes">
                        <input type="number" onchange="fn3(0, this.value, 500)" value="426"> <br>
                        <input type="number" onchange="fn3(1, this.value, 500)" value="515"> <br>
                        <input type="number" onchange="fn3(2, this.value, 500)" value="140"> <br>
                        <input type="number" onchange="fn3(3, this.value, 500)" value="251"> <br>
                        <input type="number" onchange="fn3(4, this.value, 500)" value="690"> <br>
                        <br><br>
                        <input type="number" onchange="fn3(6, 6, this.value)" value="500"> <br>
                    </div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type Three</h1>
                        <p>
                            <code>
                                const barGraphValues = [426,515,140,251,690];<br>
                                const pieChartValue = 505;<br>
                                const polygonValues = [426,555,740,351,300];<br>
                                const arr = ["First value","Second Value","Third Value","Fourth Value","fifth Value"];<br>
                                const arr2 = ["Lorem Ipsum","dolor","sit amet","consectuter","lol elit"];<br><br>

                                // demo-graph-31, demo-graph-32 = ID of the div <br>
                                new TypeThree("demo-graph-31").build(barGraphValues, pieChartValue, polygonValues).setHover(arr, "Pie Value", arr2);  // First<br>
                                new TypeThree("demo-graph-32").build(barGraphValues, pieChartValue, polygonValues, 800).setHover(arr, "Pie Value", arr2);  // Second<br><br>

                                // animate(framesForPieChart [optional], framesForOtherTwoCharts [optional]) <br>
                                new TypeThree("demo-graph-31").build(barGraphValues, pieChartValue, polygonValues).setHover(arr, "Pie Value", arr2).animate(20,20); <br>
                                new TypeThree("demo-graph-32").build(barGraphValues, pieChartValue, polygonValues, 800).setHover(arr, "Pie Value", arr2).animate(20,20);
                            </code>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="row align-items-center">
                    <div id="demo-graph-4" class="demo-graph col"></div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type Four</h1>
                        <p>
                            <code>
                                const arr = ["Lorem Ipsum","dolor","sit amet","consectuter","lol elit"];<br><br>

                                // demo-graph-4 = ID of the div <br>
                                new TypeFour("demo-graph-4").build([426,555,740,351,300]).setHover(arr);<br><br>

                                // animate(frames [optional]) <br>
                                new TypeFour("demo-graph-4").build([426,555,740,351,300]).setHover(arr).animate(30).setLabels(["Ab","Mo","Fo","Jo","Ho"]);
                            </code>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="row align-items-center">
                    <div id="demo-graph-51" class="demo-graph col"></div>
                    <div id="demo-graph-52" class="demo-graph col"></div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type Five</h1>
                        <p>
                            <code>
                                // demo-graph-5 = ID of the div <br>
                                new TypeFive("demo-graph-51").build(500).setHover("Outer Value");  // first<br>
                                new TypeFive("demo-graph-52").build(500, 600).setHover("Outer Value", "Inner Value");   // second<br><br>

                                // animate(frames [optional]) <br>
                                new TypeFive("demo-graph-5").build(500).setHover("Outer Value").animate(30); <br>
                                new TypeFive("demo-graph-5").build(500, 600).setHover("Outer Value", "Inner Value").animate(30);
                            </code>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="row align-items-center">
                    <div id="demo-graph-6" class="demo-graph col"></div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type Six</h1>
                        <p>
                            <code>
                                // demo-graph-6 = ID of the div <br>
                                new TypeSix("demo-graph-6").build(15);<br><br>

                                // animate(frames [optional]) <br>
                                new TypeSix("demo-graph-6").build(15).animate();
                            </code>
                        </p>
                    </div>
                </div>
            </div>

   <div class="col-12">
                <div class="row align-items-center">
                    <div id="demo-graph-7" class="demo-graph col"></div>
                    <div class="col-12 desc">
                        <h1 class="mb-3">Type Seven</h1>
                        <p>
                            <code>
                                const text = "Lorem Ipsum dolor sit amet, consectuter adipiscing elit"; <br><br>

                                // demo-graph-6 = ID of the div <br>
                                new TypeSeven("demo-graph-7").setRange(200).setLimits([-20,20]).build(15, [text, text], true);<br><br>

                                // animate(frames [optional]) <br>
                                new TypeSeven("demo-graph-7").setRange(200).setLimits([-20,20]).build(15, [text, text], true).animate();
                            </code>
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script src="awesome-graph.js"></script>
<script>

    const barGraphValues = [426,515,140,251,690];
    let pieChartValue = 500;
    const polygonValues = [426,555,740,351,300];
    const pieChartValue2 = 600;
    const labels = ["Ab","Mo","Fo","Jo","Ho"];

    const arr = ["First value","Second Value","Third Value","Fourth Value","fifth Value"];
    const arr2 = ["Lorem Ipsum","dolor","sit amet","consectuter","lol elit"];

    const t1 = new TypeOne("demo-graph-1");
    t1.build(barGraphValues).setLabels(labels).setCustomTotal(700).setHover(arr).animate();

    const t2 = new TypeTwo("demo-graph-2");
    t2.build(pieChartValue).setCustomTotal(pieChartValue).setHover("It's a value").animate();

    const t31 = new TypeThree("demo-graph-31");
    t31.setMultiplier(1.2)
        .setHover(arr, "Pie Value", arr2)
        .build(barGraphValues, pieChartValue, polygonValues)
        .animate();
    const t32 = new TypeThree("demo-graph-32");
    t32.setMultiplier(1.2)
        .setHover(arr, "Pie Value", arr2)
        .build(barGraphValues, pieChartValue, polygonValues, 800)
        .animate();


    // let src = "aq.png";
    // const img = new Image();
    // img.crossOrigin = 'Anonymous';
    // img.onload = function() {
    //     let canvas = document.getElementById('can');
    //     let ctx = canvas.getContext('2d');
    //     let dataURL;
    //     ctx.drawImage(this, 0, 0, 700, 374);
    //     dataURL = canvas.toDataURL("image/png");
    //     console.log(dataURL);
    // };
    // img.src = src;



    function average(array) {
        let total = 0;
        for(let i = 0; i < array.length; i++) {
            total += array[i];
        }
        return total / array.length;
    }

    let newArr = [426,515,140,251,690];
    let newArrType3 = [426,515,140,251,690];
    let newPieChartValue = pieChartValue;

    function fn1(i, changed) {
        newArr[i] = parseInt(changed);
        let difference = Math.ceil(average(newArr) - average(barGraphValues));

        t1
            .setCustomTotal(700 + difference)
            .setLabelColor(difference >= 0 ? (difference > 0 ? 1 : 0) : -1)
            .setChangedLabel(difference)
            .setHover(arr)
            .setLabels(labels)
            .build(barGraphValues)
            .buildChanged(newArr)
    }

    function fn2(changed) {
        let difference = changed - pieChartValue;
        t2
            .setCustomTotal(changed)
            .setLabelColor(difference >= 0 ? (difference > 0 ? 1 : 0) : -1)
            .setChangedLabel(difference)
            .setHover("It's a value")
            .build(pieChartValue)
            .buildChanged(changed)
    }

    function fn3(i, changedOneValue, changedPieValue) {
        if(i!==6) newArrType3[i] = parseInt(changedOneValue);
        if(i===6) newPieChartValue = changedPieValue;

        let difference1 = changedPieValue - pieChartValue;
        let difference2 = Math.ceil(average(newArrType3) - average(barGraphValues));
        const difference = difference1 + difference2;
        let color  = difference >= 0 ? (difference > 0 ? 1 : 0) : -1;

        t32.setMultiplier(1.2)
            .setLabelColor(color)       // +1 green, -1 red, 0 black
            .setChangedLabel(difference)    // label 32 => +32 or -35 => -35
            .setHover(arr, "Pie Value", arr2)
            .build(barGraphValues, pieChartValue, polygonValues, 800 + difference)
            .buildChanged(newArrType3, newPieChartValue)                   // barGraphChangeValues, pieChartChangeValues
            .animate();


        // 450
        // 470
    }


    const t4 = new TypeFour("demo-graph-4");
    t4.setMultiplier(1.2).build(polygonValues).setLabels(labels).setHover(arr).animate();

    const t51 = new TypeFive("demo-graph-51");
    t51.build(pieChartValue).setHover("Outer Value").animate();
    const t52 = new TypeFive("demo-graph-52");
    t52.build(pieChartValue, pieChartValue2).setHover("Outer Value", "Inner Value").animate();

    const t6 = new TypeSix("demo-graph-6");
    t6.build(15).animate();

    const t7 = new TypeSeven("demo-graph-7");
    t7.setRange(300);
    t7.setLimits([-20,20]);
    const text = "Lorem Ipsum dolor sit amet, consectuter adipiscing elit";
    t7.build(-50, [text, text], true).animate(15);



</script>

</body>
</html>